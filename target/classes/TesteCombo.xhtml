<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Teste de combo box (select one menu)</title>
</h:head>
<h:body>
	<h1>Teste de combo box (select one menu)</h1>

	<br />
	<br />
	
	<h:form>
	
		<p:outputLabel id="lbl1" value="mostra campo 1: #{testeComboBean.mostraCampo1}"/>
		<br />		
		
		<p:selectOneMenu id="cb1" value="#{testeComboBean.opcao}"> 
			<p:ajax listener="#{testeComboBean.valorAlterado}" update="lbl btnApagar lbl1 cb2"/>
			<f:selectItem itemLabel="Esportes" itemValue="1" />
			<f:selectItem itemLabel="Filmes" itemValue="2" />
			<f:selectItem itemLabel="Linguagens" itemValue="3" />
			<f:selectItem itemLabel="Carros" itemValue="4" />
		</p:selectOneMenu>
		
		<br />
		<br />
		
		<p:outputLabel id="lbl" value="Valor selecionado: #{testeComboBean.opcao}"/>

		<br />
		<br />

		<!-- 
		You can only ajax-update a component which is always rendered (i.e. when it does not have a rendered attribute).
		JSF ajax engine does not support addition/removal of a HTML element. It only supports the change of a HTML element.
		So, wrap it in a component which is always rendered and ajax-update it instead.
		-->
		<h:panelGroup id="btnApagar">
			<p:commandButton value="Apagar o banco de dados" rendered="#{testeComboBean.mostraCampo1}" />
		</h:panelGroup>
		
		<br />
		<br />
		
		<p:selectOneMenu id="cb2" value="#{testeComboBean.combo2}" style="width: 300px">
			<p:ajax listener="#{testeComboBean.combo2Alterado}"/>
			<f:selectItems 
				value="#{testeComboBean.lista}"
				var="item">
			</f:selectItems>
		</p:selectOneMenu>

	</h:form>

</h:body>
</html>